<!DOCTYPE html>
<html lang="{{lang.lang_code}}">
    <head>
        <meta charset="utf-8">
        <title>{% block title %}{% endblock title %} - Hnefatafl</title>
        {% block head %}{% endblock head %}
        {% block langChoose %}
        <script>
        function langChoose() {
            if (!window.localStorage.getItem('cookieAccept')) {
                const accept = confirm("{{lang.cookie_accept}}");
                if (accept) {
                    window.localStorage.setItem('cookieAccept', true);
                }else {
                    document.cookie = 'lang=;expires=Thu, 01 Jan 1970 00:00:00 GMT';
                    return;
                }
            }
            {% block langChooseHandling %}
            document.cookie = `lang=${document.getElementById('langChoice').value}`;
            document.location.reload();
            {% endblock langChooseHandling %}
        }
        </script>
        {% endblock langChoose %}
    </head>
    <body>
        <select id="langChoice" onchange="langChoose()">
            {% for l in langs %}
            <option value='{{l.code}}' {% if l.code == lang.lang_code %}selected{% endif %}>{{l.name}}</option>
            {% endfor %}
        </select>
        {% block content %}{% endblock content %}
    </body>
</html>
